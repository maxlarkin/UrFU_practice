{% extends 'hh_vacancies/base.html' %}

{% block title %}–ö–∞—Ç–∞–ª–æ–≥ –≤–∞–∫–∞–Ω—Å–∏–π{% endblock %}

{% block content %}
    <h2>üîé –ü–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π</h2>

    <form method="GET" class="filters">
        <input type="text" name="q" value="{{ query }}" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é">
        <input type="text" name="area" value="{{ area }}" placeholder="–ì–æ—Ä–æ–¥">
        <input type="number" name="min_salary" value="{{ min_salary }}" placeholder="–ó–ü –æ—Ç">
        <input type="number" name="max_salary" value="{{ max_salary }}" placeholder="–ó–ü –¥–æ">
        <button type="submit">–ò—Å–∫–∞—Ç—å</button>
    </form>

    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã ({{ page_obj.paginator.count }})</h3>

    {% for vacancy in page_obj %}
        <div class="vacancy">
            <h4><a href="{% url 'vacancy_detail' vacancy.pk %}">{{ vacancy.name }}</a></h4>
            <p><strong>–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å:</strong> {{ vacancy.employer_name }}</p>
            <p><strong>–ì–æ—Ä–æ–¥:</strong> {{ vacancy.area_name }}</p>
            <p><strong>–ó–∞—Ä–ø–ª–∞—Ç–∞:</strong> <span class="salary">{{ vacancy.salary_range }}</span></p>
            <p><strong>–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</strong> {{ vacancy.published_at|date:"d.m.Y H:i" }}</p>
            <a href="{{ vacancy.url }}" target="_blank">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ HH</a>
        </div>
    {% empty %}
        <p>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
    {% endfor %}

    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
    <div class="pagination">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; –ü–µ—Ä–≤–∞—è</a>
            <a href="?page={{ page_obj.previous_page_number }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
        {% endif %}

        <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}</span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">–ü–æ—Å–ª–µ–¥–Ω—è—è &raquo;</a>
        {% endif %}
    </div>

{% endblock %}